{% extends "webgateway/base/base_main.html" %}
{% load plotly_dash %}
{% load static %}
{% block title %}Omero Metrics{% endblock %}

{% block link %}

{{ block.super }}
<link rel="stylesheet" type="text/css" href="{% static 'OMERO_metrics/css/style_project.css' %}">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.min.js"
        integrity="sha512-L0Shl7nXXzIlBSUUPpxrokqq4ojqgZFQczTYlGjzONGTDAcLremjwaWv5A+EDLnxhQzY5xUZPWLOLqYRkY0Cbw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="{% static 'OMERO_metrics/js/js_project.js' %}"></script>
{% endblock %}

{% block script %}
{% endblock %}


{% block body %}
<div class="projectContainer">
<h2>Omero Metrics Project View</h2>
<p>This is a simple view to display the processed and Unprocessed datasets for the selected project:</p>

<div class="tab">
  <button class="tablinks" onclick="openDataset(event, 'All')">All</button>
  <button class="tablinks" onclick="openDataset(event, 'Processed')">Processed</button>
  <button class="tablinks" onclick="openDataset(event, 'Unprocessed')">Unprocessed</button>
</div>

<div id="All" class="tabcontent">
  <p>All datasets of this project.</p>
  {% for p in processed_datasets %}
  <ul>
      <li class="loadContentli" data-oid="{{ p }}"> Dataset ID: {{ p }}</li>
  </ul>
  {% endfor %}
  {% for p in unprocessed_datasets %}
  <ul>
      <li class="loadContentli" data-oid="{{ p }}"> Dataset ID: {{ p }}</li>
  </ul>
  {% endfor %}
</div>

<div id="Processed" class="tabcontent">
  <p>Processed dataset of this project.</p>
  {% for p in processed_datasets %}
  <ul>
      <li class="loadContentli" data-oid="{{ p }}"> Dataset ID: {{ p }}</li>
  </ul>
  {% endfor %}
</div>

<div id="Unprocessed" class="tabcontent">
 <p>Unprocessed dataset of this project</p>
  {% for p in unprocessed_datasets %}
<ul>
    <li class="loadContentli" data-oid="{{ p }}"> Dataset ID: {{ p }}</li>
</ul>
{% endfor %}
</div>



</div>

  <div  class="{%plotly_class name="omero_project_dash"%}">
    {%plotly_app name="omero_project_dash" ratio=1%}
</div>

{%endblock%}